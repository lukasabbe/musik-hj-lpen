<html>
    <head>
        <title>SGC:s bössa</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1 id="money"></h1>
        <script>
            setInterval(async () =>{
                const COLLECTION_TO_REQUEST = GetURLParameter('bossa');
                const response = await fetch(`https://musik.lukasabbe.com/money/` + COLLECTION_TO_REQUEST)
                const data = await response.json()
                document.getElementById('money').innerText = "SGC:s bössa har fått: " + data.amount + " kr";
            }, 1000 * 10)

            function GetURLParameter(sParam){
                var sPageURL = window.location.search.substring(1);
                var sURLVariables = sPageURL.split('&');
                for (var i = 0; i < sURLVariables.length; i++) 
                {
                    var sParameterName = sURLVariables[i].split('=');
                    if (sParameterName[0] == sParam) 
                    {
                        return sParameterName[1];
                    }
                }
            }
        </script>
    </body>
</html>